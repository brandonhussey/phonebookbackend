{"version":3,"sources":["Components/Form.js","Components/Person.js","Components/Phonebook.js","Components/Filter.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Person","person","deletePerson","name","number","onClick","Phonebook","filterNames","map","id","Filter","newFilter","handleFilterChange","baseURL","axios","get","then","response","data","newPerson","post","delete","put","Notification","message","messageText","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","useEffect","personService","initialPersons","catch","error","createMessage","setTimeout","filter","toLowerCase","includes","updatePerson","updatedNumber","window","confirm","selectedPerson","find","p","updatedPerson","returnedPerson","e","target","console","log","preventDefault","personObject","some","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22782159.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Form = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          phone: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <div>\n      <h3>\n        {person.name} {person.number}\n      </h3>\n      <button onClick={deletePerson}>Delete</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Phonebook = ({ filterNames, deletePerson }) => {\n  return (\n    <div>\n      <ul>\n        {filterNames.map((person) => (\n          <Person\n            key={person.name}\n            person={person}\n            deletePerson={() => deletePerson(person.id, person.name)}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Phonebook;\n","import React from \"react\";\n\nconst Filter = ({ newFilter, handleFilterChange }) => {\n  return (\n    <div>\n      filter: <input value={newFilter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseURL);\n  return request.then((response) => response.data);\n};\n\nconst addPerson = (newPerson) => {\n  const request = axios.post(baseURL, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseURL}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst updatePerson = (id, newPerson) => {\n  const request = axios.put(`${baseURL}/${id}`, newPerson);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, addPerson, deletePerson, updatePerson };\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  const { messageText, type } = message;\n\n  return <div className={type}>{messageText}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"./Components/Form\";\nimport Phonebook from \"./Components/Phonebook\";\nimport Filter from \"./Components/Filter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./Components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialPersons) => {\n        setPersons(initialPersons);\n      })\n      .catch((error) => {\n        createMessage(`Could not load content!`, \"error\");\n      });\n  }, []);\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (\n      persons.some(\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\n      ) &&\n      persons.some((person) => person.number === newNumber)\n    ) {\n      createMessage(`${newName} already exists!`, \"error\");\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else if (\n      persons.some(\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\n      ) &&\n      persons.some((person) => person.number !== newNumber)\n    ) {\n      updatePerson(newName, newNumber);\n    } else {\n      personService\n        .addPerson(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          createMessage(`${newName} has been added!`, \"success\");\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n          createMessage(`Could not add ${newName}!`, \"error\");\n        });\n    }\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const handleFilterChange = (e) => {\n    setNewFilter(e.target.value);\n    console.log(newFilter);\n  };\n\n  const createMessage = (message, type) => {\n    setMessage({\n      messageText: message,\n      type: type,\n    });\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  const filterNames = persons.filter(({ name }) =>\n    name.toLowerCase().includes(newFilter.toLowerCase())\n  );\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      console.log(`DELETE ${id}`);\n      personService.deletePerson(id).then(() => {\n        personService\n          .getAll()\n          .then((initialPersons) => setPersons(initialPersons));\n      });\n      createMessage(`${name} has been deleted!`, \"success\");\n    } else {\n      return;\n    }\n  };\n\n  const updatePerson = (name, updatedNumber) => {\n    if (\n      window.confirm(\n        `${name} already exists, would you like to update the number?`\n      )\n    ) {\n      const selectedPerson = persons.find(\n        (p) => p.name.toLowerCase() === name.toLowerCase()\n      );\n      const updatedPerson = { ...selectedPerson, number: updatedNumber };\n\n      personService\n        .updatePerson(selectedPerson.id, updatedPerson)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== selectedPerson.id ? person : returnedPerson\n            )\n          );\n          setNewName(\"\");\n          setNewNumber(\"\");\n          createMessage(`${selectedPerson.name} has been updated!`, \"success\");\n        })\n        .catch((error) => {\n          createMessage(\n            `${selectedPerson.name} could not be updated!`,\n            \"error\"\n          );\n        });\n    } else {\n      return;\n    }\n  };\n\n  return (\n    <div>\n      <Notification message={message} />\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add New Entry</h3>\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Phonebook filterNames={filterNames} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}